<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="EduManage - Academic Management Platform for educational institutions" />
    <meta name="keywords" content="education, student management, courses, academic platform" />
    <meta name="author" content="EduManage Team" />
    <title>Admin Dashboard - EduManage</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/admin-styles.css" />
    <link rel="stylesheet" href="css/page-styles/footer-style.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <nav class="navbar">
    <div class="container nav-container">
      <div class="logo">EduManage</div>
     
      <div class="nav-actions" id="nav-actions">
        <button class="btn login-btn" id="login-btn" onclick="window.location.href='login.html'">Login</button>
        <button class="btn signup-btn" onclick="window.location.href='signup.html'">Sign Up</button>
      </div>
      <div class="nav-actions" id="logout-actions" style="display:none;">
        <span class="user-greeting">Hello, <span id="username">User</span></span>
        <button class="btn logout-btn" id="logout-btn" onclick="logout()">Logout</button>
      </div>
      <div class="nav-toggle" id="nav-toggle">
        <i class="fas fa-bars"></i>
      </div>
    </div>
  </nav>

  <main class="container admin-dashboard">
    <header class="dashboard-header">
      <h1>Admin Dashboard</h1>
      <p>System administration and management</p>
    </header>

    <!-- Dashboard Overview -->
    <section class="dashboard-overview">
      <div class="stats-grid">
        <div class="stat-card">
          <h3>Total Users</h3>
          <div class="stat-number" id="total-users">0</div>
          <div class="stat-details">
            <span id="admin-count">0</span> Admins,
            <span id="teacher-count">0</span> Teachers,
            <span id="student-count">0</span> Students
          </div>
        </div>
        <div class="stat-card">
          <h3>Total Courses</h3>
          <div class="stat-number" id="total-courses">0</div>
          <div class="stat-details">
            <span id="active-courses">0</span> Active,
            <span id="inactive-courses">0</span> Inactive
          </div>
        </div>
        <div class="stat-card">
          <h3>Total Students</h3>
          <div class="stat-number" id="total-students">0</div>
          <div class="stat-details">
            <span id="active-students">0</span> Active,
            <span id="inactive-students">0</span> Inactive
          </div>
        </div>
        <div class="stat-card">
          <h3>System Health</h3>
          <div class="stat-number">100%</div>
          <div class="stat-details">All systems operational</div>
        </div>
      </div>
    </section>

    <!-- Management Sections -->
    <section class="management-sections">
      <div class="admin-grid">


        <div class="admin-card">
          <h3>User Management</h3>
          <p>Manage users, roles, and permissions</p>
          <button class="btn" onclick="showUserManagement()">Manage Users</button>
        </div>

        <div class="admin-card">
          <h3>Course Management</h3>
          <p>Manage courses, curriculum, and programs</p>
          <button class="btn" onclick="showCourseManagement()">Manage Courses</button>
        </div>

        <div class="admin-card">
          <h3>Student Management</h3>
          <p>Manage student records and enrollment</p>
          <button class="btn" onclick="showStudentManagement()">Manage Students</button>
        </div>

        <div class="admin-card">
          <h3>System Settings</h3>
          <p>Configure system settings and preferences</p>
          <button class="btn" onclick="showSystemSettings()">System Settings</button>
        </div>
      </div>
    </section>

    <!-- Recent Activity -->
    <section class="recent-activity">
      <h2>Recent Activity</h2>
      <div class="activity-list" id="recent-activity">
        <div class="activity-item">
          <div class="activity-icon">üë§</div>
          <div class="activity-content">
            <p>New user registered</p>
            <span class="activity-time">2 hours ago</span>
          </div>
        </div>
        <div class="activity-item">
          <div class="activity-icon">üìö</div>
          <div class="activity-content">
            <p>Course "Web Development" updated</p>
            <span class="activity-time">1 day ago</span>
          </div>
        </div>
        <div class="activity-item">
          <div class="activity-icon">üéì</div>
          <div class="activity-content">
            <p>Student enrollment completed</p>
            <span class="activity-time">3 days ago</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Analytics Section -->
    <section class="analytics-section">
      <div class="management-header">
        <h2>Analytics & Reports</h2>
        <div class="actions">
          <button class="btn btn-secondary" onclick="refreshAnalytics()">Refresh</button>
          <button class="btn btn-secondary" onclick="exportAnalytics()">Export Report</button>
        </div>
      </div>

      <div class="analytics-grid">
        <!-- Enrollment Trends Chart -->
        <div class="chart-card">
          <div class="chart-header">
            <h3>Enrollment Trends</h3>
            <select id="enrollment-period" onchange="updateEnrollmentChart()">
              <option value="7">Last 7 days</option>
              <option value="30">Last 30 days</option>
              <option value="90">Last 3 months</option>
              <option value="365">Last year</option>
            </select>
          </div>
          <div class="chart-container">
            <canvas id="enrollment-chart" width="400" height="200"></canvas>
          </div>
        </div>

        <!-- Course Distribution Pie Chart -->
        <div class="chart-card">
          <div class="chart-header">
            <h3>Course Distribution</h3>
            <select id="course-filter" onchange="updateCourseChart()">
              <option value="all">All Courses</option>
              <option value="active">Active Only</option>
              <option value="completed">Completed Only</option>
            </select>
          </div>
          <div class="chart-container">
            <canvas id="course-distribution-chart" width="400" height="200"></canvas>
          </div>
        </div>

        <!-- Student Performance Chart -->
        <div class="chart-card">
          <div class="chart-header">
            <h3>Student Performance</h3>
            <select id="performance-metric" onchange="updatePerformanceChart()">
              <option value="gpa">GPA Distribution</option>
              <option value="completion">Course Completion</option>
              <option value="enrollment">Enrollment Status</option>
            </select>
          </div>
          <div class="chart-container">
            <canvas id="performance-chart" width="400" height="200"></canvas>
          </div>
        </div>

        <!-- System Usage Chart -->
        <div class="chart-card">
          <div class="chart-header">
            <h3>System Usage</h3>
            <select id="usage-period" onchange="updateUsageChart()">
              <option value="daily">Daily</option>
              <option value="weekly">Weekly</option>
              <option value="monthly">Monthly</option>
            </select>
          </div>
          <div class="chart-container">
            <canvas id="usage-chart" width="400" height="200"></canvas>
          </div>
        </div>
      </div>

      <!-- Analytics Summary Cards -->
      <div class="analytics-summary">
        <div class="summary-card">
          <div class="summary-icon">üìà</div>
          <div class="summary-content">
            <h4>Growth Rate</h4>
            <div class="summary-value" id="growth-rate">+12.5%</div>
            <p>vs last month</p>
          </div>
        </div>
        <div class="summary-card">
          <div class="summary-icon">üéØ</div>
          <div class="summary-content">
            <h4>Completion Rate</h4>
            <div class="summary-value" id="completion-rate">87.3%</div>
            <p>course completion</p>
          </div>
        </div>
        <div class="summary-card">
          <div class="summary-icon">‚≠ê</div>
          <div class="summary-content">
            <h4>Average GPA</h4>
            <div class="summary-value" id="avg-gpa">3.2</div>
            <p>overall average</p>
          </div>
        </div>
        <div class="summary-card">
          <div class="summary-icon">‚è±Ô∏è</div>
          <div class="summary-content">
            <h4>Avg. Session</h4>
            <div class="summary-value" id="avg-session">24m</div>
            <p>per user</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Quick Actions -->
    <section class="quick-actions">
      <h2>Quick Actions</h2>
      <div class="action-buttons">
        <button class="btn btn-primary" onclick="addUser()">Add New User</button>
        <button class="btn btn-primary" onclick="addCourse()">Add New Course</button>
        <button class="btn btn-primary" onclick="addStudent()">Add New Student</button>
        <button class="btn btn-secondary" onclick="exportData()">Export Data</button>
        <button class="btn btn-secondary" onclick="generateReport()">Generate Report</button>
        <button class="btn btn-secondary" onclick="backupData()">Backup Data</button>
      </div>
    </section>
  </main>

  <!-- Student Management Modal -->
  <div id="student-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="student-modal-title">Add Student</h3>
        <span class="close-modal" onclick="closeStudentModal()">&times;</span>
      </div>
      <form id="student-form">
        <div class="form-group">
          <label for="student-name">Name</label>
          <input type="text" id="student-name" name="name" required>
        </div>
        <div class="form-group">
          <label for="student-email">Email</label>
          <input type="email" id="student-email" name="email" required>
        </div>
        <div class="form-group">
          <label for="student-phone">Phone</label>
          <input type="tel" id="student-phone" name="phone">
        </div>
        <div class="form-group">
          <label for="student-course">Course</label>
          <input type="text" id="student-course" name="course">
        </div>
        <div class="form-group">
          <label for="student-gpa">GPA</label>
          <input type="number" id="student-gpa" name="gpa" step="0.1" min="0" max="4">
        </div>
        <div class="form-group">
          <label for="student-status">Status</label>
          <select id="student-status" name="status">
            <option value="active">Active</option>
            <option value="inactive">Inactive</option>
            <option value="graduated">Graduated</option>
          </select>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn secondary-btn" onclick="closeStudentModal()">Cancel</button>
          <button type="submit" class="btn primary-btn">Save Student</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Course Management Modal -->
  <div id="course-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="course-modal-title">Add Course</h3>
        <span class="close-modal" onclick="closeCourseModal()">&times;</span>
      </div>
      <form id="course-form">
        <div class="form-group">
          <label for="course-name">Course Name</label>
          <input type="text" id="course-name" name="name" required>
        </div>
        <div class="form-group">
          <label for="course-code">Course Code</label>
          <input type="text" id="course-code" name="code" required>
        </div>
        <div class="form-group">
          <label for="course-description">Description</label>
          <textarea id="course-description" name="description" rows="3"></textarea>
        </div>
        <div class="form-group">
          <label for="course-instructor">Instructor</label>
          <input type="text" id="course-instructor" name="instructor">
        </div>
        <div class="form-group">
          <label for="course-credits">Credits</label>
          <input type="number" id="course-credits" name="credits" min="1" max="6" value="3">
        </div>
        <div class="form-group">
          <label for="course-duration">Duration (weeks)</label>
          <input type="number" id="course-duration" name="duration" min="1" max="52" value="12">
        </div>
        <div class="form-group">
          <label for="course-status">Status</label>
          <select id="course-status" name="status">
            <option value="active">Active</option>
            <option value="inactive">Inactive</option>
            <option value="completed">Completed</option>
          </select>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn secondary-btn" onclick="closeCourseModal()">Cancel</button>
          <button type="submit" class="btn primary-btn">Save Course</button>
        </div>
      </form>
    </div>
  </div>

  <!-- User Management Modal -->
  <div id="userModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="user-modal-title">Add User</h3>
        <span class="close-modal" onclick="closeModal('userModal')">&times;</span>
      </div>
      <form id="user-form">
        <div class="form-group">
          <label for="user-name">Name</label>
          <input type="text" id="user-name" name="name" required>
        </div>
        <div class="form-group">
          <label for="user-email">Email</label>
          <input type="email" id="user-email" name="email" required>
        </div>
        <div class="form-group">
          <label for="user-role">Role</label>
          <select id="user-role" name="role" required>
            <option value="student">Student</option>
            <option value="teacher">Teacher</option>
            <option value="admin">Admin</option>
          </select>
        </div>
        <div class="form-group">
          <label for="user-status">Status</label>
          <select id="user-status" name="status">
            <option value="approved">Approved</option>
            <option value="pending">Pending</option>
          </select>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn secondary-btn" onclick="closeModal('userModal')">Cancel</button>
          <button type="submit" class="btn primary-btn">Save User</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Admin Management Sections -->
  <div id="admin-student-management" class="admin-management-section" style="display: none;">
    <div class="management-header">
      <h2>Student Management</h2>
      <button class="btn btn-primary" onclick="addStudent()">Add New Student</button>
    </div>
    <div class="search-bar">
      <input type="text" placeholder="Search students..." id="admin-student-search">
    </div>
    <div class="data-table">
      <table id="admin-student-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Course</th>
            <th>GPA</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="admin-student-list">
          <!-- Students will be loaded dynamically -->
        </tbody>
      </table>
    </div>
  </div>

  <div id="admin-course-management" class="admin-management-section" style="display: none;">
    <div class="management-header">
      <h2>Course Management</h2>
      <button class="btn btn-primary" onclick="addCourse()">Add New Course</button>
    </div>
    <div class="search-bar">
      <input type="text" placeholder="Search courses..." id="admin-course-search">
    </div>
    <div class="data-table">
      <table id="admin-course-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Code</th>
            <th>Instructor</th>
            <th>Credits</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="admin-course-list">
          <!-- Courses will be loaded dynamically -->
        </tbody>
      </table>
    </div>
  </div>

  <!-- User Management Section -->
  <div id="admin-user-management" class="admin-management-section" style="display: none;">
    <div class="management-header">
      <h2>User Management</h2>
      <div class="header-actions">
        <button class="btn btn-primary" onclick="addUser()">Add New User</button>
        <div class="filter-buttons">
          <button class="btn btn-sm btn-outline" onclick="filterUsers('all')" id="filter-all">All Users</button>
          <button class="btn btn-sm btn-outline" onclick="filterUsers('active')" id="filter-active">Active</button>
          <button class="btn btn-sm btn-outline" onclick="filterUsers('inactive')" id="filter-inactive">Inactive</button>
        </div>
      </div>
    </div>

    <!-- User Statistics -->
    <div class="user-stats-grid">
      <div class="stat-card">
        <div class="stat-icon">üë•</div>
        <div class="stat-content">
          <h4>Total Users</h4>
          <span class="stat-number" id="total-users-count">0</span>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">‚úÖ</div>
        <div class="stat-content">
          <h4>Active Users</h4>
          <span class="stat-number" id="active-users-count">0</span>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üö´</div>
        <div class="stat-content">
          <h4>Inactive Users</h4>
          <span class="stat-number" id="inactive-users-count">0</span>
        </div>
      </div>
    </div>

    <div class="search-bar">
      <input type="text" placeholder="Search users..." id="admin-user-search">
      <select id="user-role-filter" onchange="filterUsersByRole()">
        <option value="all">All Roles</option>
        <option value="admin">Admin</option>
        <option value="teacher">Teacher</option>
        <option value="student">Student</option>
      </select>
    </div>

    <!-- Bulk Actions -->
    <div class="bulk-actions" id="bulk-actions" style="display: none;">
      <span id="selected-count">0 users selected</span>
      <div class="bulk-buttons">
        <button class="btn btn-sm btn-warning" onclick="bulkDeactivateUsers()">
          <i class="fas fa-ban"></i> Deactivate Selected
        </button>
        <button class="btn btn-sm btn-outline" onclick="clearSelection()">
          <i class="fas fa-times"></i> Clear Selection
        </button>
      </div>
    </div>

    <div class="data-table">
      <table id="admin-user-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Status</th>
            <th>Registration Date</th>
            <th>Last Login</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="admin-user-list">
          <!-- Users will be loaded dynamically -->
        </tbody>
      </table>
    </div>

    <!-- User Details Modal -->
    <div id="user-details-modal" class="modal">
      <div class="modal-content large-modal">
        <div class="modal-header">
          <h3 id="user-details-title">User Details</h3>
          <span class="close-modal" onclick="closeUserDetailsModal()">&times;</span>
        </div>
        <div class="user-details-content">
          <div class="user-profile-section">
            <div class="profile-header">
              <div class="profile-avatar">
                <i class="fas fa-user-circle"></i>
              </div>
              <div class="profile-info">
                <h4 id="user-detail-name">User Name</h4>
                <p id="user-detail-email">user@example.com</p>
                <span class="user-type-badge" id="user-detail-role">Teacher</span>
                <span class="status-badge" id="user-detail-status">Active</span>
              </div>
            </div>
          </div>

          <div class="user-additional-info">
            <div class="info-grid">
              <div class="info-item">
                <label>Registration Date:</label>
                <span id="user-reg-date">2024-01-15</span>
              </div>
              <div class="info-item">
                <label>Last Login:</label>
                <span id="user-last-login">2024-01-20 10:30 AM</span>
              </div>
              <div class="info-item" id="user-department">
                <label>Department:</label>
                <span id="user-dept">Computer Science</span>
              </div>
              <div class="info-item" id="user-program">
                <label>Program:</label>
                <span id="user-prog">Computer Science</span>
              </div>
            </div>
          </div>

          <div class="user-actions">
            <button class="btn btn-primary" onclick="editUser()">
              <i class="fas fa-edit"></i> Edit User
            </button>
            <button class="btn btn-warning" onclick="resetUserPassword()">
              <i class="fas fa-key"></i> Reset Password
            </button>
            <button class="btn btn-danger" onclick="deleteUser()">
              <i class="fas fa-trash"></i> Delete User
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- System Settings Section -->
  <div id="admin-system-settings" class="admin-management-section" style="display: none;">
    <div class="management-header">
      <h2>System Settings</h2>
      <button class="btn btn-primary" onclick="saveSettings()">Save Settings</button>
    </div>

    <div class="settings-grid">
      <div class="settings-card">
        <h3>General Settings</h3>
        <div class="form-group">
          <label for="system-name">System Name</label>
          <input type="text" id="system-name" value="EduManage">
        </div>
        <div class="form-group">
          <label for="system-email">System Email</label>
          <input type="email" id="system-email" value="admin@edumanage.com">
        </div>
        <div class="form-group">
          <label for="timezone">Timezone</label>
          <select id="timezone">
            <option value="UTC">UTC</option>
            <option value="EST">Eastern Time</option>
            <option value="PST">Pacific Time</option>
            <option value="GMT">GMT</option>
          </select>
        </div>
      </div>

      <div class="settings-card">
        <h3>Security Settings</h3>
        <div class="form-group">
          <label for="session-timeout">Session Timeout (minutes)</label>
          <input type="number" id="session-timeout" value="30" min="5" max="480">
        </div>
        <div class="form-group">
          <label for="password-policy">Password Policy</label>
          <select id="password-policy">
            <option value="basic">Basic (8+ characters)</option>
            <option value="medium">Medium (8+ chars, mixed case)</option>
            <option value="strong">Strong (12+ chars, mixed case, numbers, symbols)</option>
          </select>
        </div>
        <div class="form-group">
          <label for="two-factor">Two-Factor Authentication</label>
          <select id="two-factor">
            <option value="disabled">Disabled</option>
            <option value="optional">Optional</option>
            <option value="required">Required</option>
          </select>
        </div>
      </div>

      <div class="settings-card">
        <h3>Email Settings</h3>
        <div class="form-group">
          <label for="smtp-server">SMTP Server</label>
          <input type="text" id="smtp-server" value="smtp.gmail.com">
        </div>
        <div class="form-group">
          <label for="smtp-port">SMTP Port</label>
          <input type="number" id="smtp-port" value="587">
        </div>
        <div class="form-group">
          <label for="email-notifications">Email Notifications</label>
          <select id="email-notifications">
            <option value="enabled">Enabled</option>
            <option value="disabled">Disabled</option>
          </select>
        </div>
      </div>

      <div class="settings-card">
        <h3>Database Settings</h3>
        <div class="form-group">
          <label for="backup-frequency">Backup Frequency</label>
          <select id="backup-frequency">
            <option value="daily">Daily</option>
            <option value="weekly">Weekly</option>
            <option value="monthly">Monthly</option>
          </select>
        </div>
        <div class="form-group">
          <label for="retention-period">Data Retention (days)</label>
          <input type="number" id="retention-period" value="365" min="30" max="3650">
        </div>
        <div class="form-group">
          <label for="maintenance-mode">Maintenance Mode</label>
          <select id="maintenance-mode">
            <option value="disabled">Disabled</option>
            <option value="enabled">Enabled</option>
          </select>
        </div>
      </div>
    </div>
  </div>



  <footer class="footer">
    <div class="footer-content">
      <p>&copy; 2024 EduManage. All rights reserved.</p>
      <div class="footer-social">
        <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      </div>
    </div>
  </footer>

  <script src="js/script.js"></script>
  <script src="js/admin.js"></script>
  <script>
    // Validation for Add Student Form
document.addEventListener("DOMContentLoaded", () => {
  const studentForm = document.getElementById("student-form");

  studentForm.addEventListener("submit", function (event) {
    event.preventDefault(); // prevent default form submission

    let isValid = true;
    let errors = [];

    // Get values
    const name = document.getElementById("student-name").value.trim();
    const email = document.getElementById("student-email").value.trim();
    const phone = document.getElementById("student-phone").value.trim();
    const course = document.getElementById("student-course").value.trim();
    const gpa = document.getElementById("student-gpa").value.trim();
    const status = document.getElementById("student-status").value;

    // Validate Name
    if (name.length < 3) {
      isValid = false;
      errors.push("Name must be at least 3 characters.");
    }

    // Validate Email
    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailPattern.test(email)) {
      isValid = false;
      errors.push("Enter a valid email address.");
    }

    // Validate Phone (optional but must be digits if entered)
   const phonePattern = /^(98|97)[0-9]{8}$/; // must start with 98 or 97 and total 10 digits
if (phone && !phonePattern.test(phone)) {
  isValid = false;
  errors.push("Phone must be 10 digits and start with 98 or 97.");
}


    // Validate Course
    if (course.length < 2) {
      isValid = false;
      errors.push("Course name must be at least 2 characters.");
    }

    // Validate GPA
    if (gpa !== "") {
      const gpaValue = parseFloat(gpa);
      if (isNaN(gpaValue) || gpaValue < 0 || gpaValue > 4) {
        isValid = false;
        errors.push("GPA must be between 0.0 and 4.0.");
      }
    }

    // Validate Status
    if (!["active", "inactive", "graduated"].includes(status.toLowerCase())) {
      isValid = false;
      errors.push("Invalid status selected.");
    }

    // Show Errors or Submit
    if (!isValid) {
      alert("Please fix the following errors:\n- " + errors.join("\n- "));
    } else {
      alert("Student saved successfully!");
      studentForm.submit(); // now allow form submission
    }
  });
});



// Validation for Add Course Form
document.addEventListener("DOMContentLoaded", () => {
  const courseForm = document.getElementById("course-form");

  courseForm.addEventListener("submit", function (event) {
    event.preventDefault(); // prevent default form submission

    let isValid = true;
    let errors = [];

    // Get values
    const name = document.getElementById("course-name").value.trim();
    const code = document.getElementById("course-code").value.trim();
    const description = document.getElementById("course-description").value.trim();
    const instructor = document.getElementById("course-instructor").value.trim();
    const credits = document.getElementById("course-credits").value.trim();
    const duration = document.getElementById("course-duration").value.trim();

    // Validate Course Name
    if (name.length < 3) {
      isValid = false;
      errors.push("Course name must be at least 3 characters.");
    }

    // Validate Course Code
    const codePattern = /^[A-Za-z0-9_-]{3,10}$/; // letters/numbers, 3-10 chars
    if (!codePattern.test(code)) {
      isValid = false;
      errors.push("Course code must be 3-10 characters (letters/numbers only).");
    }

    // Validate Description
    if (description.length < 10) {
      isValid = false;
      errors.push("Description must be at least 10 characters.");
    }

    // Validate Instructor
    if (instructor.length < 3) {
      isValid = false;
      errors.push("Instructor name must be at least 3 characters.");
    }

    // Validate Credits
    const creditsValue = parseInt(credits);
    if (isNaN(creditsValue) || creditsValue < 1 || creditsValue > 10) {
      isValid = false;
      errors.push("Credits must be between 1 and 10.");
    }

    // Validate Duration
    const durationValue = parseInt(duration);
    if (isNaN(durationValue) || durationValue < 1 || durationValue > 52) {
      isValid = false;
      errors.push("Duration must be between 1 and 52 weeks.");
    }

    // Show Errors or Submit
    if (!isValid) {
      alert("Please fix the following errors:\n- " + errors.join("\n- "));
    } else {
      alert("Course saved successfully!");
      courseForm.submit(); // now allow form submission
    }
  });
});


// Search Algorithm for Courses
document.addEventListener("DOMContentLoaded", () => {
  const searchInput = document.querySelector("#search-course"); // your search input
  const tableRows = document.querySelectorAll("#course-table tbody tr"); // all rows

  searchInput.addEventListener("keyup", function () {
    const query = this.value.toLowerCase();

    tableRows.forEach(row => {
      const name = row.querySelector("td:nth-child(1)")?.textContent.toLowerCase() || "";
      const code = row.querySelector("td:nth-child(2)")?.textContent.toLowerCase() || "";
      const instructor = row.querySelector("td:nth-child(3)")?.textContent.toLowerCase() || "";
      const credits = row.querySelector("td:nth-child(4)")?.textContent.toLowerCase() || "";
      const status = row.querySelector("td:nth-child(5)")?.textContent.toLowerCase() || "";

      // Match query with any column
      if (
        name.includes(query) ||
        code.includes(query) ||
        instructor.includes(query) ||
        credits.includes(query) ||
        status.includes(query)
      ) {
        row.style.display = ""; // show row
      } else {
        row.style.display = "none"; // hide row
      }
    });
  });
});


// Simple student search algorithm
document.addEventListener("DOMContentLoaded", () => {
    const searchInput = document.querySelector('input[type="search"]');
    const tableRows = document.querySelectorAll('tbody tr');
    
    searchInput.addEventListener("input", function() {
        const query = this.value.toLowerCase().trim();
        
        tableRows.forEach(row => {
            const cells = row.querySelectorAll('td');
            let matchFound = false;
            
            // Check each cell in the row (except the last one with actions)
            for (let i = 0; i < cells.length - 1; i++) {
                if (cells[i].textContent.toLowerCase().includes(query)) {
                    matchFound = true;
                    break;
                }
            }
            
            // Show/hide row based on match
            row.style.display = matchFound ? "" : "none";
        });
    });
});




  </script>
</body>
</html>
